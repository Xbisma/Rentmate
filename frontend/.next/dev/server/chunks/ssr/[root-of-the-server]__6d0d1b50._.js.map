{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/CS-B23/Sem%2005/FS%20Theory/RENTMATE/Rentmate/frontend/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\",\r\n});\r\n\r\n// Attach token automatically\r\nAPI.interceptors.request.use((req) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    req.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return req;\r\n});\r\n\r\nexport default API;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,iEAAmC;AAC9C;AAEA,6BAA6B;AAC7B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,IAAI,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAC/C;IACA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///E:/CS-B23/Sem%2005/FS%20Theory/RENTMATE/Rentmate/frontend/services/maintenanceService.js"],"sourcesContent":["import API from \"./api\";\r\n\r\nexport const createMaintenanceRequest = async (requestData) => {\r\n  try {\r\n    const response = await API.post(\"/maintenance\", requestData);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTenantMaintenanceRequests = async () => {\r\n  try {\r\n    const response = await API.get(\"/maintenance/tenant\");\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getOwnerMaintenanceRequests = async () => {\r\n  try {\r\n    const response = await API.get(\"/maintenance/owner\");\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateMaintenanceRequestStatus = async (id, status) => {\r\n  try {\r\n    const response = await API.put(`/maintenance/${id}`, { status });\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,2BAA2B,OAAO;IAC7C,IAAI;QACF,MAAM,WAAW,MAAM,0HAAG,CAAC,IAAI,CAAC,gBAAgB;QAChD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,+BAA+B;IAC1C,IAAI;QACF,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,8BAA8B;IACzC,IAAI;QACF,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,iCAAiC,OAAO,IAAI;IACvD,IAAI;QACF,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE;YAAE;QAAO;QAC9D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///E:/CS-B23/Sem%2005/FS%20Theory/RENTMATE/Rentmate/frontend/app/tenant/requests/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { getTenantMaintenanceRequests, createMaintenanceRequest } from \"../../../services/maintenanceService\";\r\n\r\nexport default function MyRequestsPage() {\r\n  const [requests, setRequests] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showRequestModal, setShowRequestModal] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n\r\n  useEffect(() => {\r\n    fetchRequests();\r\n  }, []);\r\n\r\n  const fetchRequests = async () => {\r\n    try {\r\n      const data = await getTenantMaintenanceRequests();\r\n      setRequests(data);\r\n    } catch (err) {\r\n      setError('Failed to load requests');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n  try {\r\n    await createMaintenanceRequest({\r\n      title: \"Maintenance\",\r\n      description: message,\r\n    });\r\n    alert(\"Request submitted\");\r\n    setShowRequestModal(false);\r\n  } catch (err) {\r\n      alert(\"Failed to submit request\");\r\n    }\r\n  };\r\n\r\n  const getStatusCounts = () => {\r\n    const counts = { pending: 0, 'in-progress': 0, resolved: 0 };\r\n    requests.forEach(request => {\r\n      counts[request.status] = (counts[request.status] || 0) + 1;\r\n    });\r\n    return counts;\r\n  };\r\n\r\n  const statusCounts = getStatusCounts();\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'pending': return 'text-yellow-500';\r\n      case 'in-progress': return 'text-emerald-400';\r\n      case 'resolved': return 'text-emerald-600';\r\n      default: return 'text-gray-500';\r\n    }\r\n  };\r\n\r\n  const getStatusEmoji = (status) => {\r\n    switch (status) {\r\n      case 'pending': return '‚è±Ô∏è';\r\n      case 'in-progress': return '‚ùó';\r\n      case 'resolved': return '‚úÖ';\r\n      default: return '‚ùì';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"page-container\">\r\n        <div className=\"content-container\">\r\n          <div className=\"card text-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-600\">Loading your requests...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"page-container\">\r\n        <div className=\"content-container\">\r\n          <div className=\"card text-center\">\r\n            <h1 className=\"text-2xl font-bold text-red-600 mb-4\">Error</h1>\r\n            <p className=\"text-gray-600 mb-4\">{error}</p>\r\n            <button onClick={fetchRequests} className=\"btn-primary\">\r\n              Try Again\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div className=\"content-container\">\r\n        {/* BACK TO HOME BUTTON */}\r\n        <Link \r\n          href=\"/tenant/dashboard\" \r\n          className=\"btn-secondary inline-flex items-center gap-2 mb-6 animate-fade-in\"\r\n        >\r\n          ‚Üê Back to Home\r\n        </Link>\r\n\r\n        {/* Header */}\r\n        <div className=\"animate-fade-in\">\r\n          <h1 className=\"text-4xl font-extrabold text-gray-900 mb-2\">\r\n            My Requests\r\n          </h1>\r\n          <p className=\"text-gray-600 text-base\">\r\n            View and track all your requests to property owners\r\n          </p>\r\n        </div>\r\n\r\n        {/* New Request Button */}\r\n        <div className=\"flex justify-end mt-6\">\r\n          <button\r\n            onClick={() => setShowRequestModal(true)}\r\n            className=\"btn-primary\"\r\n          >\r\n              Send Request\r\n          </button>\r\n          {showRequestModal && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n              <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                <h2 className=\"text-xl font-bold mb-4\">New Maintenance Request</h2>\r\n\r\n                <textarea\r\n                  className=\"input-field w-full mb-4\"\r\n                  rows={4}\r\n                  placeholder=\"Describe the issue...\"\r\n                  value={message}\r\n                  onChange={(e) => setMessage(e.target.value)}\r\n                />\r\n                <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  className=\"btn-secondary\"\r\n                  onClick={() => setShowRequestModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  className=\"btn-primary\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  Send\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        </div>\r\n\r\n\r\n        {/* Status cards */}\r\n        <section className=\"flex flex-col md:flex-row gap-5 my-6\">\r\n          {/* Pending Card */}\r\n          <div className=\"flex-1 min-w-0 card card-hover animate-fade-in flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-gray-500 mb-1.5\">Pending</div>\r\n              <div className={`text-3xl font-extrabold ${getStatusColor('pending')}`}>{statusCounts.pending}</div>\r\n            </div>\r\n            <div className={`text-2xl ${getStatusColor('pending')} opacity-95`} aria-hidden>\r\n              {getStatusEmoji('pending')}\r\n            </div>\r\n          </div>\r\n\r\n          {/* In Progress Card */}\r\n          <div className=\"flex-1 min-w-0 card card-hover animate-fade-in flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-gray-500 mb-1.5\">In Progress</div>\r\n              <div className={`text-3xl font-extrabold ${getStatusColor('in-progress')}`}>{statusCounts['in-progress']}</div>\r\n            </div>\r\n            <div className={`text-2xl ${getStatusColor('in-progress')} opacity-95`} aria-hidden>\r\n              {getStatusEmoji('in-progress')}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Resolved Card */}\r\n          <div className=\"flex-1 min-w-0 card card-hover animate-fade-in flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-gray-500 mb-1.5\">Resolved</div>\r\n              <div className={`text-3xl font-extrabold ${getStatusColor('resolved')}`}>{statusCounts.resolved}</div>\r\n            </div>\r\n            <div className={`text-2xl ${getStatusColor('resolved')} opacity-95`} aria-hidden>\r\n              {getStatusEmoji('resolved')}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Horizontal Divider */}\r\n        <div className=\"my-8 border-t border-gray-200\"></div>\r\n\r\n        {/* Requests List */}\r\n        {requests.length > 0 ? (\r\n          <section className=\"space-y-4\">\r\n            {requests.map((request) => (\r\n              <div key={request._id} className=\"card animate-fade-in\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                      {request.property?.title || 'Property'}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 mb-3\">{request.issue}</p>\r\n                    <div className=\"flex items-center gap-4 text-sm text-gray-500\">\r\n                      <span>Created: {new Date(request.createdAt).toLocaleDateString()}</span>\r\n                      {request.updatedAt !== request.createdAt && (\r\n                        <span>Updated: {new Date(request.updatedAt).toLocaleDateString()}</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                      request.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\r\n                      request.status === 'in-progress' ? 'bg-blue-100 text-blue-800' :\r\n                      'bg-green-100 text-green-800'\r\n                    }`}>\r\n                      {request.status.replace('-', ' ').toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </section>\r\n        ) : (\r\n          /* Empty state */\r\n          <section className=\"mt-6 card animate-fade-in text-center\">\r\n            <div className=\"text-5xl text-gray-400 mb-3\">üí¨</div>\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n              No Requests Yet\r\n            </h2>\r\n            <p className=\"text-gray-600 text-base\">\r\n              You haven't sent any requests to property owners yet.\r\n            </p>\r\n          </section>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}