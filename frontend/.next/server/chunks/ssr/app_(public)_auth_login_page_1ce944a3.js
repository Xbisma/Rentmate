module.exports=[35835,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(46271),f=a.i(86723),g=a.i(74290),h=a.i(1703),i=a.i(14800),j=a.i(91128),k=d,l=a.i(65802);function m(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class n extends k.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,j.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:a,isPresent:c,anchorX:e,root:f}){let g=(0,k.useId)(),h=(0,k.useRef)(null),i=(0,k.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:j}=(0,k.useContext)(l.MotionConfigContext),o=function(...a){return d.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=m(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():m(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,k.useInsertionEffect)(()=>{let{width:a,height:b,top:d,left:k,right:l}=i.current;if(c||!h.current||!a||!b)return;let m="left"===e?`left: ${k}`:`right: ${l}`;h.current.dataset.motionPopId=g;let n=document.createElement("style");j&&(n.nonce=j);let o=f??document.head;return o.appendChild(n),n.sheet&&n.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{o.contains(n)&&o.removeChild(n)}},[c]),(0,b.jsx)(n,{isPresent:c,childRef:h,sizeRef:i,children:k.cloneElement(a,{ref:o})})}let p=({children:a,initial:c,isPresent:e,onExitComplete:f,custom:h,presenceAffectsLayout:j,mode:k,anchorX:l,root:m})=>{let n=(0,g.useConstant)(q),p=(0,d.useId)(),r=!0,s=(0,d.useMemo)(()=>(r=!1,{id:p,initial:c,isPresent:e,custom:h,onExitComplete:a=>{for(let b of(n.set(a,!0),n.values()))if(!b)return;f&&f()},register:a=>(n.set(a,!1),()=>n.delete(a))}),[e,n,f]);return j&&r&&(s={...s}),(0,d.useMemo)(()=>{n.forEach((a,b)=>n.set(b,!1))},[e]),d.useEffect(()=>{e||n.size||!f||f()},[e]),"popLayout"===k&&(a=(0,b.jsx)(o,{isPresent:e,anchorX:l,root:m,children:a})),(0,b.jsx)(i.PresenceContext.Provider,{value:s,children:a})};function q(){return new Map}var r=a.i(20410);let s=a=>a.key||"";function t(a){let b=[];return d.Children.forEach(a,a=>{(0,d.isValidElement)(a)&&b.push(a)}),b}let u=({children:a,custom:c,initial:e=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:n})=>{let[o,q]=(0,r.usePresence)(l),u=(0,d.useMemo)(()=>t(a),[a]),v=l&&!o?[]:u.map(s),w=(0,d.useRef)(!0),x=(0,d.useRef)(u),y=(0,g.useConstant)(()=>new Map),[z,A]=(0,d.useState)(u),[B,C]=(0,d.useState)(u);(0,h.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=s(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=s(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(t(a)),A(u),null}let{forceRender:E}=(0,d.useContext)(f.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let d=s(a),f=(!l||!!o)&&(u===B||v.includes(d));return(0,b.jsx)(p,{isPresent:f,initial:(!w.current||!!e)&&void 0,custom:c,presenceAffectsLayout:j,mode:k,root:n,onExitComplete:f?void 0:()=>{if(!y.has(d))return;y.set(d,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&q?.(),i&&i())},anchorX:m,children:a},d)})})};var v=a.i(29489);let w=async a=>{try{return(await v.default.post("/users/login",a)).data}catch(a){throw a}};function x(){let a=(0,c.useRouter)(),[f,g]=(0,d.useState)(!0),[h,i]=(0,d.useState)({email:"",password:"",name:"",confirmPassword:"",phone:"",userType:"tenant"}),j=a=>{let{name:b,value:c,type:d,checked:e}=a.target;i({...h,[b]:"checkbox"===d?e?"owner":"tenant":c})},k=a=>{i({...h,userType:a})},l=async b=>{if(b.preventDefault(),f)try{console.log("Attempting login with:",{email:h.email,password:h.password});let b=await w({email:h.email,password:h.password,userType:h.userType});console.log("Login response:",b),b.token?(localStorage.setItem("token",b.token),localStorage.setItem("userType",h.userType),b.user&&(localStorage.setItem("userId",b.user._id||b.user.id),localStorage.setItem("userName",b.user.name||b.user.email)),"tenant"===h.userType?a.push("/tenant/dashboard"):"owner"===h.userType?a.push("/owner/dashboard"):a.push("/dashboard")):alert("Login successful but no token received")}catch(a){console.error("Login error:",a),alert(a.response?.data?.message||a.message||"Login failed. Please check your credentials.")}else{if(h.password!==h.confirmPassword)return void alert("Passwords do not match!");if(!h.name||!h.email||!h.phone||!h.password)return void alert("Please fill in all required fields!");try{console.log("Attempting registration with:",{name:h.name,email:h.email,password:h.password,phone:h.phone,userType:h.userType});let b=await registerUser({name:h.name,email:h.email,password:h.password,phone:h.phone,role:h.userType});console.log("Registration response:",b),b.token?(localStorage.setItem("token",b.token),localStorage.setItem("userType",h.userType),b.user&&(localStorage.setItem("userId",b.user._id||b.user.id),localStorage.setItem("userName",b.user.name)),"tenant"===h.userType?a.push("/tenant/dashboard"):a.push("/owner/dashboard")):alert("Registration successful but no token received")}catch(a){console.error("Registration error:",a),alert(a.response?.data?.message||a.message||"Registration failed. Please try again.")}}};return(0,b.jsx)("div",{className:"min-h-screen bg-linear-to-br from-blue-50 to-indigo-100 pt-20 flex items-center justify-center p-4",children:(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:(0,b.jsx)(u,{mode:"wait",children:f?(0,b.jsxs)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Login to Rentmate"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Contact property owners and save your favorites"}),(0,b.jsxs)("form",{onSubmit:l,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,b.jsx)("input",{type:"email",name:"email",value:h.email,onChange:j,required:!0,className:"input-field",placeholder:"Enter your email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,b.jsx)("input",{type:"password",name:"password",value:h.password,onChange:j,required:!0,className:"input-field",placeholder:"Enter your password"})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"I am a:"}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>k("tenant"),className:`flex-1 py-2 px-4 rounded-lg border-2 transition-all duration-300 ${"tenant"===h.userType?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"ðŸ  Tenant"}),(0,b.jsx)("button",{type:"button",onClick:()=>k("owner"),className:`flex-1 py-2 px-4 rounded-lg border-2 transition-all duration-300 ${"owner"===h.userType?"border-green-500 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:"ðŸ”‘ Owner"})]})]}),(0,b.jsx)(e.motion.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-linear-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:"Login to Continue"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,b.jsx)("button",{onClick:()=>{g(!1)},className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign up here"})]})})]},"login"):(0,b.jsxs)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Create Account"}),(0,b.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Join Rentmate and find your dream home"}),(0,b.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,b.jsx)("input",{type:"text",name:"name",value:h.name,onChange:j,required:!0,className:"input-field",placeholder:"Enter your full name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,b.jsx)("input",{type:"email",name:"email",value:h.email,onChange:j,required:!0,className:"input-field",placeholder:"Enter your email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:j,required:!0,className:"input-field",placeholder:"Enter your phone number"})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"I want to:"}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>k("tenant"),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-all duration-300 ${"tenant"===h.userType?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[(0,b.jsx)("div",{className:"text-lg",children:"ðŸ "}),(0,b.jsx)("div",{className:"text-sm font-semibold",children:"Find Properties"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Tenant"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>k("owner"),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-all duration-300 ${"owner"===h.userType?"border-green-500 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:[(0,b.jsx)("div",{className:"text-lg",children:"ðŸ”‘"}),(0,b.jsx)("div",{className:"text-sm font-semibold",children:"List Properties"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Owner"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,b.jsx)("input",{type:"password",name:"password",value:h.password,onChange:j,required:!0,className:"input-field",placeholder:"Create a password"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,b.jsx)("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:j,required:!0,className:"input-field",placeholder:"Confirm your password"})]}),(0,b.jsx)(e.motion.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-linear-to-r from-green-600 to-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:"Create Account"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,b.jsx)("button",{onClick:()=>{g(!0)},className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Login here"})]})})]},"signup")})})})}a.s(["default",()=>x],35835)}];

//# sourceMappingURL=app_%28public%29_auth_login_page_1ce944a3.js.map